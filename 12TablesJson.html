<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Tables and Json</title>
    <link href="Content/bootstrap.min.css" rel="stylesheet" />
	<link href="Content/dataTables.bootstrap.min.css" rel="stylesheet" />
    <script src="Scripts/jquery-3.1.1.js"></script>
	<script src="Scripts/jquery.dataTables.min.js"></script>
	<script src="Scripts/dataTables.bootstrap.min.js"></script>
</head>
<body>
    <div class="container">
        <h2>Tables and Json</h2>
        <div class="table-responsive">
            <table id="employee-table" class="table">
                <caption>List of Employees</caption>
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Job Title</th>
                    </tr>
                </thead>
                <tbody id="employees-list"></tbody>
            </table>
		
        </div>
    </div>
</body>
</html>
<script>
    $(document).ready(function () {
        $.getJSON("Data/employee-small.json", function (data) {
            var items = [];         
            $.each(data, function (key, val) {
                var contextual = "active";
                if (val.JobTitle == 'Chief Executive Officer')
                { contextual = "success"; }
                else if (val.JobTitle == 'Vice President of Engineering')
                { contextual = "warning"; }
                else if (val.JobTitle == 'Design Engineer')
                { contextual = "danger"; }

                var item = "<tr class='" + contextual + "'>";
                item += "<td>" + val.FirstName + "</td>";
                item += "<td>" + val.LastName + "</td>";
                item += "<td>" + val.JobTitle + "</td>";
                item += "</tr>";
                items.push(item);
            });

            $("#employees-list").append(items);
        });
		
		$("#employee-table").DataTable()
    });
</script>
